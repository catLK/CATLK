<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Audio Recorder for iOS</title>
</head>
<body>

<button id="startRecord">Start Recording</button>
<button id="stopRecord" disabled>Stop Recording</button>
<audio id="audioPlayback" controls></audio>

<script>
  let mediaRecorder;
  let audioChunks = [];

  document.getElementById("startRecord").addEventListener("click", function() {
    navigator.mediaDevices.getUserMedia({ audio: true })
      .then(stream => {
        mediaRecorder = new MediaRecorder(stream);
        mediaRecorder.ondataavailable = function(event) {
          audioChunks.push(event.data);
        };
        mediaRecorder.onstop = function() {
          const audioBlob = new Blob(audioChunks);
          const audioUrl = URL.createObjectURL(audioBlob);
          document.getElementById("audioPlayback").src = audioUrl;
        };
        mediaRecorder.start();
        document.getElementById("startRecord").disabled = true;
        document.getElementById("stopRecord").disabled = false;
        audioChunks = [];
      })
      .catch(error => console.error(error));
  });

  document.getElementById("stopRecord").addEventListener("click", function() {
    mediaRecorder.stop();
    document.getElementById("startRecord").disabled = false;
    document.getElementById("stopRecord").disabled = true;
  });
</script>

</body>
</html>
